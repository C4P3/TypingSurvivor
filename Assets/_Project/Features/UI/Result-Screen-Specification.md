# **リザルト画面 最終仕様書**

## 1. 基本アーキテクチャ

「Prefab差し替え方式」を採用する。司令塔となる`ResultScreen.cs`が、ゲーム結果に応じて以下の4つのうち、いずれか1つのPrefabを生成し、表示する。

各Prefabは、それぞれに対応するViewスクリプトを持ち、そのスクリプトが自身のレイアウトとアニメーションシーケンスに全責任を持つ。すべてのアニメーション待機時間は、画面クリックでスキップ可能とする。

---

## 2. シングルプレイ (自己ベスト更新時)

- **Prefab**: `SinglePlayerNewRecordResult.prefab`
- **スクリプト**: `SinglePlayerNewRecordResultView.cs`

### 表示要素
- 結果バナー: 「New Record!」
- 主要結果: 今回のタイム、自己ベストタイム
- 詳細情報: ランク情報、統計(WPM/Blocks/Miss)
- アクションボタン: 「もう一度」「メインメニューへ」

### アニメーションシーケンス
1.  **ステップ1 (1.5秒間)**: 画面中央に「New Record!」が大きく表示される。
2.  **ステップ2 (2.0秒間)**: 結果バナーが消え、「今回のタイム」「自己ベストタイム」が表示される。
3.  **ステップ3 (2.0秒間)**: ステップ2の情報は表示されたまま、「ランク情報」「統計」が追加で表示される。
4.  **ステップ4**: 全情報が表示された状態で、画面下部に「アクションボタン」が表示される。

---

## 3. シングルプレイ (通常時)

- **Prefab**: `SinglePlayerNormalResult.prefab`
- **スクリプト**: `SinglePlayerNormalResultView.cs`

### 表示要素
- 主要結果: 今回のタイム、自己ベストタイム
- 詳細情報: ランク情報、統計(WPM/Blocks/Miss)
- アクションボタン: 「もう一度」「メインメニューへ」

### アニメーションシーケンス
1.  **ステップ1 (2.0秒間)**: (結果バナーは表示されず) 最初から「今回のタイム」「自己ベストタイム」が表示される。
2.  **ステップ2 (2.0秒間)**: ステップ1の情報は表示されたまま、「ランク情報」「統計」が追加で表示される。
3.  **ステップ3**: 全情報が表示された状態で、画面下部に「アクションボタン」が表示される。

---

## 4. ランクマッチ

- **Prefab**: `RankedMatchResult.prefab`
- **スクリプト**: `RankedMatchResultView.cs`

### 表示要素
- 結果バナー: 「YOU WIN」 / 「GAME OVER」
- プレイヤーカード (x2): プレイヤー名、**レート変動**、統計(WPM/Blocks/Miss)
- アクションボタン: 「もう一度」「メインメニューへ」

### アニメーションシーケンス
1.  **ステップ1 (1.5秒間)**: 画面中央に「YOU WIN」または「GAME OVER」が大きく表示される。
2.  **ステップ2 (2.5秒間)**: 結果バナーが消え、左右に各プレイヤーの情報カード（レート変動含む）が表示される。勝者側はハイライトされる。
3.  **ステップ3**: 全情報が表示された状態で、画面下部に「アクションボタン」が表示される。

---

## 5. フリーマッチ

- **Prefab**: `FreeMatchResult.prefab`
- **スクリプト**: `FreeMatchResultView.cs`

### 表示要素
- 結果バナー: 「YOU WIN」 / 「GAME OVER」
- プレイヤーカード (x2): プレイヤー名、統計(WPM/Blocks/Miss)
- アクションボタン: 「もう一度」「メインメニューへ」

### アニメーションシーケンス
1.  **ステップ1 (1.5秒間)**: 画面中央に「YOU WIN」または「GAME OVER」が大きく表示される。
2.  **ステップ2 (2.5秒間)**: 結果バナーが消え、左右に各プレイヤーの情報カード（レート変動なし）が表示される。勝者側はハイライトされる。
3.  **ステップ3**: 全情報が表示された状態で、画面下部に「アクションボタン」が表示される。